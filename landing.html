<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Securely view and share your Idle Heroes account data without central storage">
    <title>Idle Heroes Account Viewer</title>
    <link rel="icon" type="image/png" href="IdleHeroesicon.png">
    <link rel="apple-touch-icon" href="IdleHeroesicon.png">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@500;700&family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="assets/css/flame-border.css">
    <style>
        :root {
            --idle-primary: #e1c06f;
            --idle-secondary: #873ec7;
            --idle-dark: #060a1a;
            --idle-light: #f7f2e7;
            --idle-accent: #ff5722;
        }
        
        body { 
            margin: 0;
            padding: 0;
            background-color: var(--idle-dark);
            background-image: url('a2ceae1c51604ae4b9f223c30d4e0ee3.png');
            background-size: cover;
            background-attachment: fixed;
            background-position: center;
            color: var(--idle-light);
            font-family: 'Poppins', sans-serif;
            overflow-x: hidden;
        }
        
        .overlay {
            background: linear-gradient(to bottom, rgba(6, 10, 26, 0.8) 0%, rgba(6, 10, 26, 0.9) 100%);
            min-height: 100vh;
            width: 100%;
        }
        
        .navbar {
            background-color: rgba(6, 10, 26, 0.9);
            border-bottom: 1px solid var(--idle-primary);
        }
        
        .navbar-brand {
            font-family: 'Cinzel', serif;
            font-weight: 700;
            font-size: 1.8rem;
            color: var(--idle-primary);
            text-shadow: 0 0 10px rgba(225, 192, 111, 0.5);
        }
        
        .main-header {
            display: flex;
            flex-direction: column;
            align-items: flex-start;
            justify-content: center;
            padding: 6rem 0;
            position: relative;
        }
        
        .hero-title {
            font-family: 'Cinzel', serif;
            font-weight: 700;
            font-size: 3.5rem;
            line-height: 1.1;
            color: var(--idle-primary);
            text-transform: uppercase;
            margin-bottom: 2rem;
            text-shadow: 0 0 15px rgba(225, 192, 111, 0.6);
            max-width: 550px;
        }
        
        .hero-subtitle {
            font-size: 1.5rem;
            font-weight: 300;
            margin-bottom: 2rem;
            max-width: 500px;
        }
        
        .btn-hero {
            background: #9c27b0;
            color: white;
            border: none;
            padding: 0.8rem 2.5rem;
            font-size: 1.2rem;
            border-radius: 4px;
            font-weight: 600;
            text-transform: uppercase;
            transition: all 0.3s;
            position: relative;
            overflow: hidden;
            box-shadow: 0 0 20px rgba(156, 39, 176, 0.5);
            letter-spacing: 1px;
        }
        
        .btn-hero::after {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(to right, rgba(255,255,255,0) 0%, rgba(255,255,255,0.3) 50%, rgba(255,255,255,0) 100%);
            transform: rotate(30deg);
            opacity: 0;
            transition: all 0.8s;
        }
        
        .btn-hero:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 25px rgba(135, 62, 199, 0.7);
            color: white;
        }
        
        .btn-hero:hover::after {
            animation: shine 1.5s infinite;
        }
        
        @keyframes shine {
            0% {
                opacity: 0;
                left: -50%;
            }
            30% {
                opacity: 1;
            }
            100% {
                opacity: 0;
                left: 150%;
            }
        }
        
        .feature-section {
            padding: 4rem 0;
            background: linear-gradient(to bottom, rgba(6, 10, 26, 0.7) 0%, rgba(6, 10, 26, 0.9) 100%);
            border-top: 1px solid rgba(225, 192, 111, 0.3);
            border-bottom: 1px solid rgba(225, 192, 111, 0.3);
        }
        
        .section-title {
            font-family: 'Cinzel', serif;
            font-weight: 700;
            color: var(--idle-primary);
            margin-bottom: 2rem;
            text-align: center;
            text-transform: uppercase;
            text-shadow: 0 0 10px rgba(225, 192, 111, 0.5);
        }
        
        .feature-card {
            background: rgba(6, 10, 26, 0.8);
            border: 1px solid var(--idle-secondary);
            border-radius: 8px;
            padding: 2rem;
            height: 100%;
            transition: all 0.3s;
            box-shadow: 0 5px 15px rgba(135, 62, 199, 0.2);
        }
        
        .feature-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 30px rgba(135, 62, 199, 0.4);
            border-color: var(--idle-primary);
        }
        
        .feature-icon {
            font-size: 2.5rem;
            color: var(--idle-primary);
            margin-bottom: 1rem;
        }
        
        .feature-title {
            font-weight: 600;
            margin-bottom: 1rem;
            color: var(--idle-primary);
        }
        
        .steps-section {
            padding: 4rem 0;
            background: rgba(6, 10, 26, 0.7);
        }
        
        .step-card {
            background: rgba(6, 10, 26, 0.8);
            border: 1px solid var(--idle-secondary);
            border-radius: 8px;
            padding: 2rem;
            margin-bottom: 2rem;
            position: relative;
            overflow: hidden;
            transition: all 0.3s;
        }
        
        .step-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(135, 62, 199, 0.4);
            border-color: var(--idle-primary);
        }
        
        .step-number {
            position: absolute;
            top: -20px;
            right: -20px;
            width: 80px;
            height: 80px;
            background: linear-gradient(135deg, var(--idle-secondary) 0%, #5c2a8c 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            font-weight: 700;
            color: white;
            border-radius: 50%;
            opacity: 0.9;
        }
        
        .step-title {
            font-weight: 600;
            margin-bottom: 1rem;
            color: var(--idle-primary);
            font-size: 1.4rem;
        }
        
        .step-content {
            color: var(--idle-light);
            font-size: 1.1rem;
        }
        
        .cta-section {
            padding: 4rem 0;
            background: url('https://ih.dhgames.com/upload/202107/77_1625563776_gJlqjn.jpg');
            background-size: cover;
            background-position: center;
            position: relative;
            text-align: center;
        }
        
        .cta-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(to right, rgba(6, 10, 26, 0.9) 0%, rgba(6, 10, 26, 0.7) 100%);
        }
        
        .cta-content {
            position: relative;
            z-index: 1;
        }
        
        .url-format {
            background-color: rgba(6, 10, 26, 0.9);
            border: 1px solid var(--idle-primary);
            color: var(--idle-primary);
            padding: 0.5rem 1rem;
            border-radius: 4px;
            font-family: monospace;
            font-size: 1.1rem;
        }
        
        footer {
            background-color: rgba(6, 10, 26, 0.9);
            padding: 2rem 0;
            border-top: 1px solid rgba(225, 192, 111, 0.3);
            text-align: center;
        }
        
        /* Responsive adjustments */
        @media (max-width: 768px) {
            .hero-title {
                font-size: 2.5rem;
            }
            .hero-subtitle {
                font-size: 1.2rem;
            }
            .main-header {
                padding: 4rem 0;
            }
        }
    </style>
</head>
<body>
    <div class="overlay">
        <!-- Navigation -->
        <nav class="navbar navbar-expand-lg navbar-dark">
            <div class="container">
                <a class="navbar-brand" href="#">Idle Heroes Account Viewer</a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarNav">
                    <ul class="navbar-nav ms-auto">
                        <li class="nav-item">
                            <a class="nav-link active" href="#">Home</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="viewer.html">Viewer</a>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>

        <!-- Hero Section -->
        <header class="main-header">
            <div class="container">
                <div class="row">
                    <div class="col-lg-6">
                        <h1 class="hero-title">SHARE YOUR HEROES AND INVENTORY</h1>
                        <p class="hero-subtitle">A secure, privacy-focused account viewer for Idle Heroes. No central storage, no unnecessary uploads - your data stays with you.</p>
                        <a href="#" class="btn btn-hero btn-lg" id="get-started-btn">GET STARTED</a>
                        <div class="mt-3">
                            <a href="viewer.html" class="btn btn-secondary btn-lg" id="account-viewer-btn">ACCOUNT VIEWER</a>
                        </div>
                    </div>
                    <div class="col-lg-6 d-flex justify-content-center align-items-center">
                        <div class="idle-icon-container" style="width: 350px; height: 350px;">
                            <img src="IdleHeroesicon.png" alt="Idle Heroes Character" class="idle-icon img-fluid">
                        </div>
                    </div>
                </div>
            </div>
        </header>

        <!-- Features Section -->
        <section class="feature-section">
            <div class="container">
                <h2 class="section-title">Key Features</h2>
                <div class="row">
                    <div class="col-md-3 mb-4">
                        <div class="feature-card">
                            <div class="feature-icon">
                                <i class="bi bi-shield-lock"></i>
                            </div>
                            <h3 class="feature-title">URL-Based Sharing</h3>
                            <p>Your data is stored in the URL itself. Anyone with your account link can view your heroes and inventory data.</p>
                        </div>
                    </div>
                    <div class="col-md-3 mb-4">
                        <div class="feature-card">
                            <div class="feature-icon">
                                <i class="bi bi-link-45deg"></i>
                            </div>
                            <h3 class="feature-title">Persistent URLs</h3>
                            <p>Each account gets a permanent bookmark that always shows the latest data. No need to reshare after updates.</p>
                        </div>
                    </div>
                    <div class="col-md-3 mb-4">
                        <div class="feature-card">
                            <div class="feature-icon">
                                <i class="bi bi-lock-fill"></i>
                            </div>
                            <h3 class="feature-title">Account Protection</h3>
                            <p>Only the original account owner can update account data through the UID-based verification system.</p>
                        </div>
                    </div>
                    <div class="col-md-3 mb-4">
                        <div class="feature-card">
                            <div class="feature-icon">
                                <i class="bi bi-phone"></i>
                            </div>
                            <h3 class="feature-title">Mobile Friendly</h3>
                            <p>Works on all devices. Generate QR codes for easy sharing with guild mates on mobile.</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Open Source Section -->
        <section class="feature-section" style="background-color: rgba(6, 10, 26, 0.8); padding: 5rem 0;">
            <div class="container">
                <h2 class="section-title">100% OPEN SOURCE</h2>
                <div class="row">
                    <div class="col-lg-8 mx-auto">
                        <div class="step-card" style="background: linear-gradient(135deg, rgba(6, 10, 26, 0.9) 0%, rgba(32, 17, 54, 0.9) 100%); border: 2px solid var(--idle-primary);">
                            <div class="text-center mb-4">
                                <img src="github-icon.png" alt="GitHub" style="width: 100px; height: 100px; filter: invert(1)">
                            </div>
                            <h3 class="step-title text-center">Complete Transparency</h3>
                            <p class="step-content text-center mb-4">This project is fully open source. You can view, review, and contribute to the entire codebase on GitHub. We believe in complete transparency so you can verify exactly how your data is handled.</p>
                            <div class="text-center">
                                <a href="https://github.com/IH-Accounts/IH-Accounts.github.io" target="_blank" class="btn btn-hero">
                                    <i class="bi bi-github"></i> View Source Code
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- How It Works Section -->
        <section class="steps-section">
            <div class="container">
                <h2 class="section-title">How It Works</h2>
                <div class="row">
                    <div class="col-md-6 mb-4">
                        <div class="step-card">
                            <div class="step-number">1</div>
                            <h3 class="step-title">Install iOS/Android Profile</h3>
                            <p class="step-content">Download and install the profile to capture your Idle Heroes game data automatically as you play.</p>
                        </div>
                    </div>
                    <div class="col-md-6 mb-4">
                        <div class="step-card">
                            <div class="step-number">2</div>
                            <h3 class="step-title">Open Idle Heroes Game</h3>
                            <p class="step-content">The profile will automatically capture data when you play the game, requiring no extra steps from you.</p>
                        </div>
                    </div>
                    <div class="col-md-6 mb-4">
                        <div class="step-card">
                            <div class="step-number">3</div>
                            <h3 class="step-title">Generate Account URL</h3>
                            <p class="step-content">A unique, permanent URL is created for your account in the format <span class="url-format">https://ih-accounts.github.io/Platform=UID</span>. This URL will always show your latest data.</p>
                        </div>
                    </div>
                    <div class="col-md-6 mb-4">
                        <div class="step-card">
                            <div class="step-number">4</div>
                            <h3 class="step-title">Share Your Account</h3>
                            <p class="step-content">Share your URL or QR code with friends and guild mates to showcase your heroes and inventory.</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- CTA Section -->
        <section class="cta-section">
            <div class="container">
                <div class="cta-content">
                    <h2 class="section-title">Ready to view your account?</h2>
                    <a href="viewer.html" class="btn btn-hero btn-lg">Go to Account Viewer</a>
                </div>
            </div>
        </section>

        <!-- Footer -->
        <footer>
            <div class="container">
                <p class="mb-0">Idle Heroes Account Viewer is not affiliated with Idle Heroes or DH Games. All game content is property of the respective owners.</p>
                <p class="mb-0">&copy; 2025 <a href="https://github.com/ih-accounts/ih-accounts.github.io" target="_blank" style="color: var(--idle-primary);">IH-Accounts</a></p>
            </div>
        </footer>
    </div>

    <!-- Platform Selection Modal -->
    <div class="modal fade" id="platformModal" tabindex="-1" aria-labelledby="platformModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content bg-dark text-light border-gold">
                <div class="modal-header border-gold">
                    <h5 class="modal-title" id="platformModalLabel">Select Platform</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="row text-center">
                        <div class="col-6 mb-4">
                            <button id="ios-btn" class="btn btn-outline-light platform-btn p-4 w-100 h-100">
                                <i class="bi bi-apple mb-3" style="font-size: 3rem;"></i>
                                <h4>iOS</h4>
                                <p class="small">iPhone / iPad</p>
                            </button>
                        </div>
                        <div class="col-6 mb-4">
                            <button id="android-btn" class="btn btn-outline-light platform-btn p-4 w-100 h-100">
                                <i class="bi bi-android2 mb-3" style="font-size: 3rem;"></i>
                                <h4>Android</h4>
                                <p class="small">Android Devices</p>
                            </button>
                        </div>
                    </div>
                </div>
                <div class="modal-footer border-gold">
                    <p class="small text-muted mx-auto">Select your game platform to download the correct profile</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Safari Modal -->
    <div class="modal fade" id="safariModal" tabindex="-1" aria-labelledby="safariModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content bg-dark text-light border-gold">
                <div class="modal-header border-gold">
                    <h5 class="modal-title" id="safariModalLabel">Safari Required</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body text-center">
                    <i class="bi bi-exclamation-triangle-fill text-warning mb-3" style="font-size: 3rem;"></i>
                    <h5>iOS profiles must be downloaded in Safari</h5>
                    <p>It appears you are not using Safari. Apple requires profiles to be downloaded via the Safari browser.</p>
                </div>
                <div class="modal-footer border-gold">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                    <a href="#" id="open-in-safari" class="btn btn-primary">Open in Safari</a>
                </div>
            </div>
        </div>
    </div>

    <!-- Bootstrap JS, Popper.js -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>

    <!-- Custom Landing Page Script -->
    <script>
        // Helper function to generate UUID
        function generateUUID() {
            return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {
                var r = Math.random() * 16 | 0, v = c === 'x' ? r : (r & 0x3 | 0x8);
                return v.toString(16);
            });
        }
        
        document.addEventListener('DOMContentLoaded', function() {
            // Platform modal setup
            const platformModal = new bootstrap.Modal(document.getElementById('platformModal'));
            const safariModal = new bootstrap.Modal(document.getElementById('safariModal'));
            
            // Get Started button click
            document.getElementById('get-started-btn').addEventListener('click', function(e) {
                e.preventDefault();
                platformModal.show();
            });
            
            // Platform selection
            document.getElementById('ios-btn').addEventListener('click', function() {
                platformModal.hide();
                // Check if browser is Safari on iOS
                if (!isSafari() && isIOS()) {
                    safariModal.show();
                } else {
                    // Proceed with iOS profile download
                    downloadIOSProfile();
                }
            });
            
            document.getElementById('android-btn').addEventListener('click', function() {
                platformModal.hide();
                // Proceed with Android profile download
                downloadAndroidProfile();
            });
            
            // Open in Safari button
            document.getElementById('open-in-safari').addEventListener('click', function(e) {
                e.preventDefault();
                const currentUrl = window.location.href;
                window.location.href = 'x-web-search://?' + encodeURIComponent(currentUrl);
            });
            
            // Check if browser is Safari
            function isSafari() {
                const ua = navigator.userAgent.toLowerCase();
                return ua.indexOf('safari') > -1 && ua.indexOf('chrome') === -1;
            }
            
            // Check if device is iOS
            function isIOS() {
                const ua = navigator.userAgent.toLowerCase();
                return /iphone|ipad|ipod/.test(ua);
            }
            
            // Download iOS profile
            function downloadIOSProfile() {
                // Process profile download
                showDownloadingMessage('iOS');
                
                // Create and download the .mobileconfig file
                setTimeout(function() {
                    // Create the profile content
                    const profileContent = `<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd">
<plist version="1.0">
<dict>
    <key>PayloadContent</key>
    <array>
        <dict>
            <key>PayloadDisplayName</key>
            <string>Idle Heroes Account</string>
            <key>PayloadIdentifier</key>
            <string>com.idleheroes.account.profile</string>
            <key>PayloadType</key>
            <string>com.apple.configuration.profile</string>
            <key>PayloadUUID</key>
            <string>${generateUUID()}</string>
            <key>PayloadVersion</key>
            <integer>1</integer>
        </dict>
    </array>
    <key>PayloadDescription</key>
    <string>Idle Heroes Account Profile</string>
    <key>PayloadDisplayName</key>
    <string>Idle Heroes Account</string>
    <key>PayloadIdentifier</key>
    <string>com.idleheroes.account</string>
    <key>PayloadOrganization</key>
    <string>Idle Heroes</string>
    <key>PayloadRemovalDisallowed</key>
    <false/>
    <key>PayloadType</key>
    <string>Configuration</string>
    <key>PayloadUUID</key>
    <string>${generateUUID()}</string>
    <key>PayloadVersion</key>
    <integer>1</integer>
</dict>
</plist>`;
                    
                    // Create a Blob with the profile content
                    const blob = new Blob([profileContent], {type: 'application/x-apple-aspen-config'});
                    const url = window.URL.createObjectURL(blob);
                    
                    // Create a link and trigger download
                    const a = document.createElement('a');
                    a.href = url;
                    a.download = 'IdleHeroes.mobileconfig';
                    document.body.appendChild(a);
                    a.click();
                    document.body.removeChild(a);
                    window.URL.revokeObjectURL(url);
                }, 2000);
            }
            
            // Download Android profile
            function downloadAndroidProfile() {
                // Process profile download
                showDownloadingMessage('Android');
                
                // Create and download the Android configuration file
                setTimeout(function() {
                    // Create the profile content as JSON
                    const profileContent = JSON.stringify({
                        "name": "Idle Heroes Account",
                        "version": 1,
                        "description": "Idle Heroes Account Profile",
                        "uuid": generateUUID(),
                        "timestamp": new Date().toISOString(),
                        "device_type": "android",
                        "settings": {
                            "app_id": "com.droidhang.ad.idleheroes",
                            "account_sync": true,
                            "backup_enabled": true,
                            "notifications_enabled": true
                        }
                    }, null, 2);
                    
                    // Create a Blob with the profile content
                    const blob = new Blob([profileContent], {type: 'application/json'});
                    const url = window.URL.createObjectURL(blob);
                    
                    // Create a link and trigger download
                    const a = document.createElement('a');
                    a.href = url;
                    a.download = 'IdleHeroes-Android-Config.json';
                    document.body.appendChild(a);
                    a.click();
                    document.body.removeChild(a);
                    window.URL.revokeObjectURL(url);
                }, 2000);
            }
            
            // Show downloading message
            function showDownloadingMessage(platform) {
                const getStartedBtn = document.getElementById('get-started-btn');
                const originalText = getStartedBtn.textContent;
                
                getStartedBtn.disabled = true;
                getStartedBtn.innerHTML = `<span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span> Downloading ${platform} Profile...`;
                
                setTimeout(function() {
                    getStartedBtn.disabled = false;
                    getStartedBtn.textContent = originalText;
                }, 3000);
            }
        });
    </script>
    
    <style>
        .border-gold {
            border-color: #ffd700 !important;
        }
        
        .modal-content.bg-dark {
            background-color: #171722 !important;
        }
        
        .platform-btn {
            border: 2px solid #6c757d;
            transition: all 0.3s ease;
        }
        
        .platform-btn:hover {
            transform: translateY(-5px);
            border-color: #ffd700;
            box-shadow: 0 0 15px rgba(255, 215, 0, 0.5);
        }
    </style>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    
    <!-- Flame Effect -->
    <script src="assets/js/flame-border.js"></script>
    <script>
        // Simple redirect if this is a URL with account data
        document.addEventListener('DOMContentLoaded', () => {
            if (window.location.hash && window.location.hash.length > 1) {
                // Check if the hash matches the new format (Platform=UID)
                if (window.location.hash.includes('iOS=') || 
                    window.location.hash.includes('Android=') ||
                    window.location.hash.includes('account=')) {
                    window.location.href = 'viewer.html' + window.location.hash;
                }
            }
        });
    </script>
</body>
</html>